!function(){"use strict";function a(a,c,d){a.when("/",{templateUrl:"/Views/Characters/List.html",controller:"CharacterListController"}).when("/Characters/:characterId",{templateUrl:"Views/Characters/Detail.html",controller:"CharacterDetailController"}).when("/Comics",{templateUrl:"Views/Comics/List.html",controller:"ComicListController"}).when("/Comics/:comicId",{templateUrl:"Views/Comics/Detail.html",controller:"ComicDetailController"}),c.html5Mode(!0),d.interceptors.push(b)}function b(a){return{request:function(b){return b.url.indexOf("gateway.marvel.com")>-1&&(b.params||(b.params={}),b.params.apikey=a.API_KEY),b}}}angular.module("MarvelApp",["ngRoute","ngAnimate","ngResource"]).constant("MARVEL",{API_KEY:"193de468b42a867fa40e7bac25106814",BASE_URL:"http://gateway.marvel.com:80/v1/public"}).config(a),a.$inject=["$routeProvider","$locationProvider","$httpProvider"],b.$inject=["MARVEL"]}(),function(){"use strict";function a(a,b,c,d){function e(){a.character={},a.comics=[],a.crumbs=[]}e(),c.get({characterId:b.characterId}).$promise.then(function(b){a.character=b,a.comics=b.getComics(b.Comics),a.crumbs=[{Text:"Characters",Url:"/"},{Text:a.character.Name,Url:""}]})}angular.module("MarvelApp").controller("CharacterDetailController",a),a.$inject=["$scope","$routeParams","Characters","Comics"]}(),function(){"use strict";function a(a,b,c){a.searchName="",a.characters=c.query(),a.search=function(){a.characters=c.query({nameStartsWith:a.searchName})},a.detail=function(a){b.path("/Characters/"+a)}}angular.module("MarvelApp").controller("CharacterListController",a),a.$inject=["$scope","$location","Characters"]}(),function(){"use strict";function a(a,b,c){function d(){a.character={},a.comics=[],a.crumbs=[]}d(),c.get({comicId:b.comicId}).$promise.then(function(b){a.comic=b,a.crumbs=[{Text:"Comics",Url:"/Comics"},{Text:a.comic.Title,Url:""}]})}angular.module("MarvelApp").controller("ComicDetailController",a),a.$inject=["$scope","$routeParams","Comics"]}(),function(){"use strict";function a(a,b,c){function d(){a.comics=[]}c.query({},function(b){d(),a.comics=b,a.search=function(){a.comics=c.query({titleStartsWith:a.searchName})}})}angular.module("MarvelApp").controller("ComicListController",a),a.$inject=["$scope","$routeParams","Comics"]}(),function(){"use strict";function a(a,b){a.isActive=function(a){return a==b.path()}}angular.module("MarvelApp").controller("HeaderController",a),a.$inject=["$scope","$location"]}(),function(){"use strict";function a(a){function b(a,b,c){}var c={link:b,scope:{crumbs:"="},restrict:"A",templateUrl:"/Templates/breadcrumb.html"};return c}angular.module("MarvelApp").directive("breadcrumb",a),a.$inject=["$window"]}(),function(){"use strict";function a(a){var b=angular.fromJson(a);return $.map(b.data.results,function(a){return{Id:a.id,Name:a.name,Description:a.description,ImageUrl:null!==a.thumbnail?a.thumbnail.path+"."+a.thumbnail.extension:"/Images/image_not_available.jpg",Comics:$.map(a.comics.items,function(a){return{ComicName:a.name,ComicId:a.resourceURI.substr(a.resourceURI.lastIndexOf("/")+1)}}),Events:$.map(a.events.items,function(a){return{EventName:a.name,EventId:a.resourceURI.substr(a.resourceURI.lastIndexOf("/")+1)}}),Series:$.map(a.series.items,function(a){return{SeriesName:a.name,SeriesId:a.resourceURI.substr(a.resourceURI.lastIndexOf("/")+1)}}),Stories:$.map(a.stories.items,function(a){return{StoryName:a.name,StoryId:a.resourceURI.substr(a.resourceURI.lastIndexOf("/")+1)}}),Links:$.map(a.urls,function(a){return{LinkName:a.type,Url:a.url}})}})}angular.module("MarvelApp").factory("Characters",["$resource","MARVEL","Comics",function(b,c,d){var e=b(c.BASE_URL+"/characters/:characterId",{characterId:"@characterId"},{query:{method:"GET",transformResponse:function(b){return a(b)},isArray:!0},get:{method:"GET",transformResponse:function(b){var c=a(b);return c[0]},isArray:!1}});return e.prototype={getComics:function(a){var b=[];return angular.forEach(a,function(a){d.query({comicId:a.ComicId},function(a){b.push({Title:a[0].Title,ImageUrl:a[0].ImageUrl,ComicId:a[0].Id})})}),b}},e}])}(),function(){"use strict";function a(a){var b=angular.fromJson(a);return $.map(b.data.results,function(a){return{Id:a.id,Title:a.title,Description:a.description,ImageUrl:null!==a.thumbnail?a.thumbnail.path+"."+a.thumbnail.extension:"/image/image_not_available.jpg"}})}angular.module("MarvelApp").factory("Comics",["$resource","MARVEL",function(b,c){var d=b(c.BASE_URL+"/comics/:comicId",{apikey:c.API_KEY,comicId:"@comicId"},{query:{method:"GET",transformResponse:function(b){return a(b)},isArray:!0},get:{method:"GET",transformResponse:function(b){var c=a(b);return c[0]},isArray:!1}});return d.prototype={},d}])}();