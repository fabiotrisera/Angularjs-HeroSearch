!function(){"use strict";function a(a,b){a.when("/",{templateUrl:"/Views/Characters/List.html",controller:"CharacterListController"}).when("/Characters/:characterId",{templateUrl:"Views/Characters/Detail.html",controller:"CharacterDetailController"}).when("/Comics",{templateUrl:"Views/Comics/List.html",controller:"ComicListController"}).when("/Comics/:comicId",{templateUrl:"Views/Comics/Detail.html",controller:"ComicDetailController"}),b.html5Mode(!0)}a.$inject=["$routeProvider","$locationProvider"],angular.module("MarvelApp",["ngRoute","ngAnimate","CharacterService","ComicService"]).config(a)}(),function(){"use strict";function a(a,b,c,d){function e(){a.character={},a.comics=[],a.crumbs=[]}c.query({characterId:b.characterId},function(b){e(),a.character=b[0],a.crumbs=[{Text:"Characters",Url:"/"},{Text:a.character.Name,Url:""}],angular.forEach(a.character.Comics,function(b){d.query({comicId:b.ComicId},function(b){a.comics.push({Title:b[0].Title,ImageUrl:b[0].ImageUrl,ComicId:b[0].Id})})})})}angular.module("MarvelApp").controller("CharacterDetailController",a),a.$inject=["$scope","$routeParams","Characters","Comics"]}(),function(){"use strict";function a(a,b,c){a.searchName="",a.characters=c.query(),a.search=function(){c.query({nameStartsWith:a.searchName},function(b){a.characters=b})},a.detail=function(a){b.path("/Characters/"+a)}}angular.module("MarvelApp").controller("CharacterListController",a),a.$inject=["$scope","$location","Characters"]}(),function(){"use strict";function a(a,b,c){function d(){a.character={},a.comics=[],a.crumbs=[]}c.query({comicId:b.comicId},function(b){d(),a.comic=b[0],a.crumbs=[{Text:"Comics",Url:"/Comics"},{Text:a.comic.Title,Url:""}]})}angular.module("MarvelApp").controller("ComicDetailController",a),a.$inject=["$scope","$routeParams","Comics"]}(),function(){"use strict";function a(a,b,c){function d(){a.comics=[]}c.query({},function(b){d(),a.comics=b,a.search=function(){c.query({titleStartsWith:a.searchName},function(b){a.comics=b})}})}angular.module("MarvelApp").controller("ComicListController",a),a.$inject=["$scope","$routeParams","Comics"]}(),function(){"use strict";function a(a,b){a.isActive=function(a){return a==b.path()}}angular.module("MarvelApp").controller("HeaderController",a),a.$inject=["$scope","$location"]}(),function(){"use strict";function a(a){function b(a,b,c){}var c={link:b,scope:{crumbs:"="},restrict:"A",templateUrl:"/Templates/breadcrumb.html"};return c}angular.module("MarvelApp").directive("breadcrumb",a),a.$inject=["$window"]}(),function(){"use strict";var a=angular.module("CharacterService",["ngResource"]);a.factory("Characters",["$resource",function(a){return a("http://gateway.marvel.com:80/v1/public/characters/:characterId",{apikey:"193de468b42a867fa40e7bac25106814",characterId:"@characterId"},{query:{method:"GET",transformResponse:function(a){var b=angular.fromJson(a);return $.map(b.data.results,function(a){return{Id:a.id,Name:a.name,Description:a.description,ImageUrl:null!==a.thumbnail?a.thumbnail.path+"."+a.thumbnail.extension:"/Images/image_not_available.jpg",Comics:$.map(a.comics.items,function(a){return{ComicName:a.name,ComicId:a.resourceURI.substr(a.resourceURI.lastIndexOf("/")+1)}}),Events:$.map(a.events.items,function(a){return{EventName:a.name,EventId:a.resourceURI.substr(a.resourceURI.lastIndexOf("/")+1)}}),Series:$.map(a.series.items,function(a){return{SeriesName:a.name,SeriesId:a.resourceURI.substr(a.resourceURI.lastIndexOf("/")+1)}}),Stories:$.map(a.stories.items,function(a){return{StoryName:a.name,StoryId:a.resourceURI.substr(a.resourceURI.lastIndexOf("/")+1)}}),Links:$.map(a.urls,function(a){return{LinkName:a.type,Url:a.url}})}})},isArray:!0}})}])}(),function(){"use strict";var a=angular.module("ComicService",["ngResource"]);a.factory("Comics",["$resource",function(a){return a("http://gateway.marvel.com:80/v1/public/comics/:comicId",{apikey:"193de468b42a867fa40e7bac25106814",comicId:"@comicId"},{query:{method:"GET",transformResponse:function(a){var b=angular.fromJson(a);return $.map(b.data.results,function(a){return{Id:a.id,Title:a.title,Description:a.description,ImageUrl:null!==a.thumbnail?a.thumbnail.path+"."+a.thumbnail.extension:"/image/image_not_available.jpg"}})},isArray:!0}})}])}();